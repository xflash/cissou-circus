#{extends 'main.html' /}
#{set title:'StudentEventChoices' /}


*{<div class="jumbotron">}*
*{<div class="container">}*
*{<h1>Student event choices</h1>}*
*{<p>Allow to show all student choices for a given School event</p>}*
*{</div>}*
*{</div>}*

<div class="container">
    <div class="row">
        <div class="col-sm">


            <ul class="nav nav-tabs" role="tablist">
            #{list classRoomKinds, as:'classRoomKind'}
                <li class="nav-item">
                    <a class="nav-link"
                       data-toggle="tab"
                       href="@{listInKind(schoolEvent.id, classRoomKind.name())}"
                       role="tab"
                    >${classRoomKind.name()}</a>
                </li>
            #{/list}
            </ul>


            <div class="tab-pane" role="tabpanel">
                <br/>
                <ul class="nav nav-tabs" role="tablist">
                #{list classrooms, as:'classroom'}
                    <li class="nav-item">
                        <a class="nav-link"
                           data-toggle="tab"
                           href="@{listInClassroom(schoolEvent.id,classroom.kind.name(), classroom.id)}"
                           role="tab"
                        >${classroom.name}</a>
                    </li>
                #{/list}
                </ul>

                <div class="tab-content">

                    <h2>Classroom ${classroom.name}</h2>

                    <div class="container">
                        <div class="row">

                            <table class="table table-striped table-bordered table-sm">

                                <thead>
                                <tr>
                                    <th style="width: 15%" scope="col">Name</th>
                                    <th style="width: 15%" scope="col">Firstname</th>
                                    <th style="width: 2%" scope="col">Orange sheets n/a</th>
                                    <th style="width: 2%" scope="col">Abs. Fr</th>
                                    <th style="width: 2%" scope="col">Abs. Sa</th>
                                    <th style="width: 2%" scope="col">Abs.</th>
                                    <th style="width: 15%" scope="col">Choice 1</th>
                                    <th style="width: 15%" scope="col">Choice 2</th>
                                    <th style="width: 15%" scope="col">Choice 3</th>
                                    <th style="width: 15%" scope="col">Choice 4</th>
                                    <th></th>
                                </tr>
                                </thead>

                                <tbody>

                                #{list items:studentChoices, as:'studentChoice'}
                                <tr class="">
                                    <td>${studentChoice.student.name}</td>
                                    <td>${studentChoice.student.firstname}</td>
                                    <td class="text-center">${studentChoice.orangeSheet?'X':''}</td>
                                    <td class="text-center">${studentChoice.absentFriday?'X':''}</td>
                                    <td class="text-center">${studentChoice.absentSaturday?'X':''}</td>
                                    <td class="text-center">${studentChoice.absent?'X':''}</td>
                                    <td>${studentChoice.choice1?.name}</td>
                                    <td>${studentChoice.choice2?.name}</td>
                                    <td>${studentChoice.choice3?.name}</td>
                                    <td>${studentChoice.choice4?.name}</td>
                                    <td>#{a @controllers.SchoolEventStudentChoices.edit(schoolEvent.id, studentChoice.id)}
                                        edit#{/a}</td>
                                </tr>
                                #{/list}

                                </tbody>

                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>


<script>
    $(document).ready(function () {

    });
</script>